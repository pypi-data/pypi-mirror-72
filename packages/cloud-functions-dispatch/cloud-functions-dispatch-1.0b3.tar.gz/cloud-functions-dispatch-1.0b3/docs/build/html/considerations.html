
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Other Considerations &#8212; cloud-functions-dispatch 0.9.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Usage" href="usage.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="other-considerations">
<h1>Other Considerations<a class="headerlink" href="#other-considerations" title="Permalink to this headline">¶</a></h1>
<p>A few additional points to keep in mind:</p>
<div class="section" id="supported-cloud-platforms">
<h2>Supported Cloud Platforms<a class="headerlink" href="#supported-cloud-platforms" title="Permalink to this headline">¶</a></h2>
<p>Right now support is only included for Google Cloud Platform. I am very open to pull requests that introduce support for any others (AWS and Azure especially). See <a class="reference external" href="https://github.com/seawolf42/cloud-functions-dispatch/issues/1">issue 1</a> and feel free to comment on that ticket if you are interested in helping out.</p>
</div>
<div class="section" id="failures">
<h2>Failures<a class="headerlink" href="#failures" title="Permalink to this headline">¶</a></h2>
<p>Sometimes a function will fail. Since there is no mechanism for returning values, this must be handled by the callee. Tasks should be simple and straightforward.</p>
<p>Functions may be invoked more than once (as per Google’s SLA on PubSub message handling). Functions should be idempotent (able to be repeated multiple times without introducing errors in the result).</p>
<p>Because the functions being called are implemented in the caller’s codebase, the cloud function you deploy to handle dispatched calls should include the caller’s codebase. The basic idea is that you have a single codebase but deployed twice: once to cloud functions (the callee) and once as a regular deployment to Kubernetes, some other cloud function, or elsewhere.  Only the subset of the code that implements the functions needs to be included in the callee, so the right architecture can help minimize deployable sizes. Realistically, though, many project won’t have enough code to make this an issue.</p>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>The most common errors encountered relate to importing. To avoid these:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Make sure all functions being called belong in modules that are <em>not</em> in the <code class="docutils literal notranslate"><span class="pre">__main__</span></code> namespace</dt><dd><ul>
<li><p>function execution is looked up by registered name; if the application and the cloud function import things in different ways, functions will not discovered properly in the cloud function</p></li>
<li><p>one easy way to do this is to build your function artifact by copying your app folder to the same directory your function’s <code class="docutils literal notranslate"><span class="pre">main.py</span></code> is in and zipping and deploying that</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Make sure the cloud function’s <code class="docutils literal notranslate"><span class="pre">main.py</span></code> file imports (either directly or indirectly) all modules that contain dispatched functions</dt><dd><ul>
<li><p>functions are registered when they are imported, but they need to have been registered prior to any calls being received for execution</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">cloud-functions-dispatch</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Other Considerations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supported-cloud-platforms">Supported Cloud Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#failures">Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="usage.html" title="previous chapter">Usage</a></li>
      <li>Next: <a href="contributing.html" title="next chapter">Contributing</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, jeffrey k eliasen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/considerations.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>