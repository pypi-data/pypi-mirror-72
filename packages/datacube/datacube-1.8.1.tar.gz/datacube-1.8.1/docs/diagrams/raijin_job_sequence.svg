<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="997px" preserveAspectRatio="none" style="width:931px;height:997px;" version="1.1" viewBox="0 0 931 997" width="931px" zoomAndPan="magnify"><defs><filter height="300%" id="f1emf2aevgk7vt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="341" x="269.5" y="22.9951">Fractional Cover with 2-stage execution on</text><text fill="#000000" font-family="monospace" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="615.5" y="22.9951">raijin</text><rect fill="#DDDDDD" height="951.8438" style="stroke: #A80036; stroke-width: 1.0;" width="325.5" x="521.5" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="164" x="602.25" y="46.3638">Raijin Compute Nodes</text><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="92.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="256.5" y="186.125"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="161.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="568" y="382.6563"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="193.8281" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="568" y="601.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="568" y1="601.6172" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="578" y1="601.6172" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="578" y1="601.6172" y2="601.6172"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="79.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="568" y="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="568" y1="823.4453" y2="902.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="578" y1="823.4453" y2="902.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="578" y1="902.8438" y2="902.8438"/><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="525.5" y="351.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="532.5" y="371.5186">Head Node</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="727" y="609.6172"/><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="723" y="613.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="730" y="633.6123">Worker Nodes</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="129.5" x2="129.5" y1="95.5938" y2="552.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="129.5" x2="129.5" y1="552.4844" y2="580.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="129.5" x2="129.5" y1="580.4844" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="129.5" x2="129.5" y1="795.4453" y2="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="129.5" x2="129.5" y1="823.4453" y2="920.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="95.5938" y2="552.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="261.5" x2="261.5" y1="552.4844" y2="580.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="580.4844" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="261.5" x2="261.5" y1="795.4453" y2="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="261.5" x2="261.5" y1="823.4453" y2="920.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="95.5938" y2="552.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="413" x2="413" y1="552.4844" y2="580.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="580.4844" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="413" x2="413" y1="795.4453" y2="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="413" y1="823.4453" y2="920.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="572.5" y1="384.1719" y2="552.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="572.5" x2="572.5" y1="552.4844" y2="580.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="572.5" y1="580.4844" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="572.5" x2="572.5" y1="795.4453" y2="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="572.5" y1="823.4453" y2="920.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="783" x2="783" y1="644.2656" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="783" x2="783" y1="795.4453" y2="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="783" x2="783" y1="823.4453" y2="920.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="95.5938" y2="552.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="889" x2="889" y1="552.4844" y2="580.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="580.4844" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="889" x2="889" y1="795.4453" y2="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="823.4453" y2="920.8438"/><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="76.5" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="83.5" y="80.292">AWS Lambda</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="76.5" y="919.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="83.5" y="939.8389">AWS Lambda</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="193.5" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="200.5" y="80.292">Raijin Login Node</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="193.5" y="919.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="200.5" y="939.8389">Raijin Login Node</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="341" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="348" y="80.292">PBS Job Scheduler</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="341" y="919.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="348" y="939.8389">PBS Job Scheduler</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="525.5" y="919.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="532.5" y="939.8389">Head Node</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="727" y="919.8438"/><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="723" y="923.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="730" y="943.8389">Worker Nodes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="853" y="92.292">Database</text><path d="M871,43.2969 C871,33.2969 889,33.2969 889,33.2969 C889,33.2969 907,33.2969 907,43.2969 L907,69.2969 C907,79.2969 889,79.2969 889,79.2969 C889,79.2969 871,79.2969 871,69.2969 L871,43.2969 " fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M871,43.2969 C871,53.2969 889,53.2969 889,53.2969 C889,53.2969 907,53.2969 907,43.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="853" y="932.8389">Database</text><path d="M871,946.1406 C871,936.1406 889,936.1406 889,936.1406 C889,936.1406 907,936.1406 907,946.1406 L907,972.1406 C907,982.1406 889,982.1406 889,982.1406 C889,982.1406 871,982.1406 871,972.1406 L871,946.1406 " fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M871,946.1406 C871,956.1406 889,956.1406 889,956.1406 C889,956.1406 907,956.1406 907,946.1406 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="92.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="256.5" y="186.125"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="161.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="568" y="382.6563"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="193.8281" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="568" y="601.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="568" y1="601.6172" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="578" y1="601.6172" y2="795.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="578" y1="601.6172" y2="601.6172"/><rect fill="#FFFFFF" filter="url(#f1emf2aevgk7vt)" height="79.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="568" y="823.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="568" y1="823.4453" y2="902.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="578" y1="823.4453" y2="902.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="568" x2="578" y1="902.8438" y2="902.8438"/><polygon fill="#A80036" points="118,152.9922,128,156.9922,118,160.9922,122,156.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="124" y1="156.9922" y2="156.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="10" y="121.6606">trigger:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="10" y="136.7935">Time Event or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="14" y="151.9263">Upstream Data</text><polygon fill="#A80036" points="244.5,182.125,254.5,186.125,244.5,190.125,248.5,186.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130" x2="250.5" y1="186.125" y2="186.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="137" y="181.0591">SSH</text><polygon fill="#A80036" points="244.5,211.2578,254.5,215.2578,244.5,219.2578,248.5,215.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="130" x2="250.5" y1="215.2578" y2="215.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="137" y="210.1919">Submit</text><polygon fill="#A80036" points="401.5,240.3906,411.5,244.3906,401.5,248.3906,405.5,244.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="266.5" x2="407.5" y1="244.3906" y2="244.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="273.5" y="239.3247">qsub</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="308.5" y="239.3247">fc generate</text><polygon fill="#A80036" points="272.5,274.5234,262.5,278.5234,272.5,282.5234,268.5,278.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="266.5" x2="412.5" y1="278.5234" y2="278.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="278.5" y="273.4575">job ID</text><path d="M418,257.3906 L418,282.3906 L640,282.3906 L640,267.3906 L630,257.3906 L418,257.3906 " fill="#FBFB77" filter="url(#f1emf2aevgk7vt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M630,257.3906 L630,267.3906 L640,267.3906 L630,257.3906 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="424" y="274.4575">Job is now queued for execution</text><polygon fill="#A80036" points="513.5,368.6563,523.5,372.6563,513.5,376.6563,517.5,372.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413.5" x2="519.5" y1="372.6563" y2="372.6563"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="420.5" y="367.5903">fc generate</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="525.5" y="351.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="532.5" y="371.5186">Head Node</text><polygon fill="#A80036" points="877,413.9531,887,417.9531,877,421.9531,881,417.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="883" y1="417.9531" y2="417.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="585" y="412.8872">query database</text><polygon fill="#A80036" points="589,443.0859,579,447.0859,589,451.0859,585,447.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="583" x2="888" y1="447.0859" y2="447.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="595" y="442.02">results</text><path d="M518,460.0859 L518,485.0859 L624,485.0859 L624,470.0859 L614,460.0859 L518,460.0859 " fill="#FBFB77" filter="url(#f1emf2aevgk7vt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M614,460.0859 L614,470.0859 L624,470.0859 L614,460.0859 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="524" y="477.1528">Save task file</text><polygon fill="#A80036" points="424.5,511.3516,414.5,515.3516,424.5,519.3516,420.5,515.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="418.5" x2="567" y1="515.3516" y2="515.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="430.5" y="510.2856">qsub</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="465.5" y="510.2856">fc run</text><polygon fill="#A80036" points="424.5,540.4844,414.5,544.4844,424.5,548.4844,420.5,544.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="418.5" x2="572" y1="544.4844" y2="544.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="430.5" y="539.4185">done</text><polygon fill="#A80036" points="556,597.6172,566,601.6172,556,605.6172,560,601.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413.5" x2="562" y1="601.6172" y2="601.6172"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="420.5" y="596.5513">fc run</text><polygon fill="#A80036" points="711,626.75,721,630.75,711,634.75,715,630.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="717" y1="630.75" y2="630.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="585" y="625.6841">start worker clients</text><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="727" y="609.6172"/><rect fill="#FEFECE" filter="url(#f1emf2aevgk7vt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="723" y="613.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="730" y="633.6123">Worker Nodes</text><path d="M518,663.9141 L518,688.9141 L623,688.9141 L623,673.9141 L613,663.9141 L518,663.9141 " fill="#FBFB77" filter="url(#f1emf2aevgk7vt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M613,663.9141 L613,673.9141 L623,673.9141 L613,663.9141 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="524" y="680.981">Load task file</text><polygon fill="#A80036" points="771,715.1797,781,719.1797,771,723.1797,775,719.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="777" y1="719.1797" y2="719.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="585" y="714.1138">do_fc_task</text><polygon fill="#A80036" points="589,744.3125,579,748.3125,589,752.3125,585,748.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="583" x2="782" y1="748.3125" y2="748.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="595" y="743.2466">done</text><path d="M521,761.3125 L521,786.3125 L833,786.3125 L833,771.3125 L823,761.3125 L521,761.3125 " fill="#FBFB77" filter="url(#f1emf2aevgk7vt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M823,761.3125 L823,771.3125 L833,771.3125 L823,761.3125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="562.75" y="778.3794">Distribute jobs across the workers</text><polygon fill="#A80036" points="771,840.5781,781,844.5781,771,848.5781,775,844.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="777" y1="844.5781" y2="844.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="585" y="839.5122">do_fc_task</text><polygon fill="#A80036" points="589,869.7109,579,873.7109,589,877.7109,585,873.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="583" x2="782" y1="873.7109" y2="873.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="595" y="868.645">done</text><polygon fill="#A80036" points="424.5,898.8438,414.5,902.8438,424.5,906.8438,420.5,902.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="418.5" x2="572" y1="902.8438" y2="902.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="430.5" y="897.7778">done</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="564" x2="582" y1="893.8438" y2="911.8438"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="564" x2="582" y1="911.8438" y2="893.8438"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="774" x2="792" y1="893.8438" y2="911.8438"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="774" x2="792" y1="911.8438" y2="893.8438"/><!--
@startuml
title Fractional Cover with 2-stage execution on ""raijin""

-> "AWS Lambda": trigger: \nTime Event or \n Upstream Data

"AWS Lambda" -> "Raijin Login Node": SSH
activate "Raijin Login Node"
"AWS Lambda" -> "Raijin Login Node": Submit
participant "PBS Job Scheduler" as PBS
"Raijin Login Node" -> PBS: qsub ""fc generate""
"Raijin Login Node" <- PBS: job ID
deactivate "Raijin Login Node"
note right
Job is now queued for execution
end note
||60||

box "Raijin Compute Nodes"
participant "Head Node" as Head
collections "Worker Nodes" as Workers
end box

database Database

create Head
PBS -> Head: ""fc generate""
activate Head
Head -> Database: query database
Head <- Database: results
note over Head
Save task file
end note
PBS <- Head: qsub ""fc run""
PBS <- Head: done
deactivate Head
...
PBS -> Head: ""fc run""
activate Head

create Workers
Head -> Workers : start worker clients
note over Head
Load task file
end note
Head -> Workers : do_fc_task
Head <- Workers : done
note over Head, Workers: Distribute jobs across the workers
...
Head -> Workers : do_fc_task
Head <- Workers : done


PBS <- Head: done
destroy Head
destroy Workers

@enduml

PlantUML version 1.2018.13(Tue Nov 27 04:11:51 AEDT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-3ubuntu1
Operating System: Linux
OS Version: 5.4.0-1012-azure
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>
