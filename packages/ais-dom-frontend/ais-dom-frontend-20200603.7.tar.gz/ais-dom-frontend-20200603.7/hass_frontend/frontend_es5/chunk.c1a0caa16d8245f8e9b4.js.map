{"version":3,"file":"chunk.c1a0caa16d8245f8e9b4.js","sources":["webpack:///./src/panels/lovelace/cards/hui-ais-now-playing-poster-card.js"],"sourcesContent":["import { fireEvent } from \"../../../common/dom/fire_event\";\n\nclass NowPlayingPoster extends HTMLElement {\n  set hass(hass) {\n    if (!this.content) {\n      const card = document.createElement(\"ha-card\");\n      this.content = document.createElement(\"div\");\n\n      // this.content.style = \"!important;\";\n\n      card.appendChild(this.content);\n      card.style = \"background: none;\";\n      this.appendChild(card);\n      this.addEventListener(\"click\", function() {\n        this._onClick();\n      });\n    }\n\n    const offposter = this.config.off_image;\n    const entityId = this.config.entity;\n    const state = hass.states[entityId];\n    const stateStr = state ? state.state : \"unavailable\";\n    const entityClass =\n      this.config.class || this.config.entity.replace(\".\", \"_\");\n    this.setAttribute(\"class\", entityClass);\n\n    if (state) {\n      const movposter = state.attributes.entity_picture;\n\n      if (stateStr === \"playing\") {\n        if (!movposter) {\n          if (offposter) {\n            this.content.innerHTML = `<img src=\"${offposter}\" width=100% align=\"center\" style=\"\">`;\n          } else {\n            this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n          }\n        } else {\n          this.content.innerHTML = `<img src=\"${movposter}\" width=100% height=100%\" style=\"\">`;\n        }\n      } else if (offposter) {\n        this.content.innerHTML = `<img src=\"${offposter}\" width=100% align=\"center\" style=\"\">`;\n      } else {\n        this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n      }\n    } else {\n      this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n    }\n  }\n\n  _onClick() {\n    fireEvent(this, \"hass-more-info\", {\n      entityId: this.config.entity,\n    });\n  }\n\n  setConfig(config) {\n    if (!config.entity) {\n      throw new Error(\"You need to define an entity\");\n    }\n    this.config = config;\n  }\n\n  // The height of your card. Home Assistant uses this to automatically\n  // distribute all cards over the available columns.\n  getCardSize() {\n    return 3;\n  }\n}\n\ncustomElements.define(\"hui-ais-now-playing-poster-card\", NowPlayingPoster);\n"],"mappings":"AAEA","sourceRoot":""}