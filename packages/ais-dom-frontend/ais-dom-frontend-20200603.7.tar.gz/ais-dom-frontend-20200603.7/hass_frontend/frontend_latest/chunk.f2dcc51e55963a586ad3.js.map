{"version":3,"file":"chunk.f2dcc51e55963a586ad3.js","sources":["webpack:///./src/panels/lovelace/header-footer/hui-picture-header-footer.ts"],"sourcesContent":["import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n  PropertyValues,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport { ifDefined } from \"lit-html/directives/if-defined\";\nimport \"../../../components/ha-card\";\nimport { ActionHandlerEvent } from \"../../../data/lovelace\";\nimport { HomeAssistant } from \"../../../types\";\nimport { actionHandler } from \"../common/directives/action-handler-directive\";\nimport { handleAction } from \"../common/handle-action\";\nimport { hasAction } from \"../common/has-action\";\nimport { LovelaceHeaderFooter } from \"../types\";\nimport { PictureHeaderFooterConfig } from \"./types\";\n\n@customElement(\"hui-picture-header-footer\")\nexport class HuiPictureHeaderFooter extends LitElement\n  implements LovelaceHeaderFooter {\n  public static getStubConfig(): object {\n    return {\n      image:\n        \"https://www.home-assistant.io/images/merchandise/shirt-frontpage.png\",\n      tap_action: { action: \"none\" },\n      hold_action: { action: \"none\" },\n    };\n  }\n\n  @property() public hass?: HomeAssistant;\n\n  @property() protected _config?: PictureHeaderFooterConfig;\n\n  public getCardSize(): number {\n    return 3;\n  }\n\n  public setConfig(config: PictureHeaderFooterConfig): void {\n    if (!config || !config.image) {\n      throw new Error(\"Invalid Configuration: 'image' required\");\n    }\n\n    this._config = config;\n  }\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    if (changedProps.size === 1 && changedProps.has(\"hass\")) {\n      return !changedProps.get(\"hass\");\n    }\n    return true;\n  }\n\n  protected render(): TemplateResult {\n    if (!this._config || !this.hass) {\n      return html``;\n    }\n\n    const clickable = Boolean(\n      this._config.tap_action || this._config.hold_action\n    );\n\n    return html`\n      <img\n        @action=${this._handleAction}\n        .actionHandler=${actionHandler({\n          hasHold: hasAction(this._config!.hold_action),\n          hasDoubleClick: hasAction(this._config!.double_tap_action),\n        })}\n        tabindex=${ifDefined(clickable ? 0 : undefined)}\n        class=\"${classMap({\n          clickable,\n        })}\"\n        src=\"${this.hass.hassUrl(this._config.image)}\"\n      />\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      img.clickable {\n        cursor: pointer;\n      }\n\n      img {\n        display: block;\n        width: 100%;\n      }\n    `;\n  }\n\n  private _handleAction(ev: ActionHandlerEvent) {\n    handleAction(this, this.hass!, this._config!, ev.detail.action!);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-picture-header-footer\": HuiPictureHeaderFooter;\n  }\n}\n"],"mappings":"AAsBA;;AA6CA;AACA;AAIA;AACA;AAGA;;AAtDA;;;;;;;;;AAAA","sourceRoot":""}