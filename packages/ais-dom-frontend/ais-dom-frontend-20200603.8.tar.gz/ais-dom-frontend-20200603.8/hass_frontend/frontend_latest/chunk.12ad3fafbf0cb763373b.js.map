{"version":3,"file":"chunk.12ad3fafbf0cb763373b.js","sources":["webpack:///./src/panels/lovelace/cards/hui-ais-fold-entity-row-card.js"],"sourcesContent":["!(function(t) {\n  var e = {};\n  function i(n) {\n    if (e[n]) return e[n].exports;\n    var s = (e[n] = { i: n, l: !1, exports: {} });\n    return t[n].call(s.exports, s, s.exports, i), (s.l = !0), s.exports;\n  }\n  (i.m = t),\n    (i.c = e),\n    (i.d = function(t, e, n) {\n      i.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n });\n    }),\n    (i.r = function(t) {\n      \"undefined\" != typeof Symbol &&\n        Symbol.toStringTag &&\n        Object.defineProperty(t, Symbol.toStringTag, { value: \"Module\" }),\n        Object.defineProperty(t, \"__esModule\", { value: !0 });\n    }),\n    (i.t = function(t, e) {\n      if ((1 & e && (t = i(t)), 8 & e)) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var n = Object.create(null);\n      if (\n        (i.r(n),\n        Object.defineProperty(n, \"default\", { enumerable: !0, value: t }),\n        2 & e && \"string\" != typeof t)\n      )\n        for (var s in t)\n          i.d(\n            n,\n            s,\n            function(e) {\n              return t[e];\n            }.bind(null, s)\n          );\n      return n;\n    }),\n    (i.n = function(t) {\n      var e =\n        t && t.__esModule\n          ? function() {\n              return t.default;\n            }\n          : function() {\n              return t;\n            };\n      return i.d(e, \"a\", e), e;\n    }),\n    (i.o = function(t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }),\n    (i.p = \"\"),\n    i((i.s = 0));\n})([\n  function(t, e, i) {\n    \"use strict\";\n    i.r(e);\n    const n = customElements.get(\"home-assistant-main\")\n        ? Object.getPrototypeOf(customElements.get(\"home-assistant-main\"))\n        : Object.getPrototypeOf(customElements.get(\"hui-view\")),\n      s = n.prototype.html,\n      o = n.prototype.css;\n    function r() {\n      return document.querySelector(\"home-assistant\").hass;\n    }\n    const a = \"custom:\",\n      c = [\"input_number\", \"input_select\", \"input_text\", \"scene\", \"weblink\"];\n    function l(t, e) {\n      const i = document.createElement(\"hui-error-card\");\n      return i.setConfig({ type: \"error\", error: t, config: e }), i;\n    }\n    function h(t, e) {\n      if (!e || \"object\" != typeof e || !e.type)\n        return l(`No ${t} type configured`, e);\n      let i = e.type;\n      if (\n        ((i = i.startsWith(a) ? i.substr(a.length) : `hui-${i}-${t}`),\n        customElements.get(i))\n      )\n        return (function(t, e) {\n          const i = document.createElement(t);\n          try {\n            i.setConfig(e);\n          } catch (t) {\n            return l(t, e);\n          }\n          return i;\n        })(i, e);\n      const n = l(`Custom element doesn't exist: ${i}.`, e);\n      n.style.display = \"None\";\n      const s = setTimeout(() => {\n        n.style.display = \"\";\n      }, 2e3);\n      return (\n        customElements.whenDefined(i).then(() => {\n          clearTimeout(s),\n            (function(t, e, i = null) {\n              if (\n                (((t = new Event(t, {\n                  bubbles: !0,\n                  cancelable: !1,\n                  composed: !0,\n                })).detail = e || {}),\n                i)\n              )\n                i.dispatchEvent(t);\n              else {\n                var n = document.querySelector(\"home-assistant\");\n                (n =\n                  (n =\n                    (n =\n                      (n =\n                        (n =\n                          (n =\n                            (n =\n                              ((n =\n                                (n =\n                                  (n =\n                                    (n = n && n.shadowRoot) &&\n                                    n.querySelector(\"home-assistant-main\")) &&\n                                  n.shadowRoot) &&\n                                n.querySelector(\n                                  \"app-drawer-layout partial-panel-resolver\"\n                                )) &&\n                                n.shadowRoot) ||\n                              n) && n.querySelector(\"ha-panel-lovelace\")) &&\n                          n.shadowRoot) && n.querySelector(\"hui-root\")) &&\n                      n.shadowRoot) &&\n                    n.querySelector(\"ha-app-layout #view\")) &&\n                  n.firstElementChild) && n.dispatchEvent(t);\n              }\n            })(\"ll-rebuild\", {}, n);\n        }),\n        n\n      );\n    }\n    class u extends n {\n      static get properties() {\n        return { hass: {}, config: {}, noHass: { type: Boolean } };\n      }\n      setConfig(t) {\n        var e;\n        (this._config = t),\n          this.el ? this.el.setConfig(t) : (this.el = this.create(t)),\n          this._hass && (this.el.hass = this._hass),\n          this.noHass &&\n            ((e = this),\n            document.querySelector(\"home-assistant\").provideHass(e));\n      }\n      set config(t) {\n        this.setConfig(t);\n      }\n      set hass(t) {\n        (this._hass = t), this.el && (this.el.hass = t);\n      }\n      createRenderRoot() {\n        return this;\n      }\n      render() {\n        return s`${this.el}`;\n      }\n    }\n    if (!customElements.get(\"card-maker\")) {\n      class t extends u {\n        create(t) {\n          return (function(t) {\n            return h(\"card\", t);\n          })(t);\n        }\n        getCardSize() {\n          return this.firstElementChild && this.firstElementChild.getCardSize\n            ? this.firstElementChild.getCardSize()\n            : 1;\n        }\n      }\n      customElements.define(\"card-maker\", t);\n    }\n    if (!customElements.get(\"element-maker\")) {\n      class t extends u {\n        create(t) {\n          return (function(t) {\n            return h(\"element\", t);\n          })(t);\n        }\n      }\n      customElements.define(\"element-maker\", t);\n    }\n    if (!customElements.get(\"entity-row-maker\")) {\n      class t extends u {\n        create(t) {\n          return (function(t) {\n            const e = new Set([\n              \"call-service\",\n              \"divider\",\n              \"section\",\n              \"weblink\",\n            ]);\n            if (!t) return l(\"Invalid configuration given.\", t);\n            if (\n              (\"string\" == typeof t && (t = { entity: t }),\n              \"object\" != typeof t || (!t.entity && !t.type))\n            )\n              return l(\"Invalid configuration given.\", t);\n            const i = t.type || \"default\";\n            if (e.has(i) || i.startsWith(a)) return h(\"row\", t);\n            const n = t.entity.split(\".\", 1)[0];\n            return (\n              Object.assign(t, {\n                type:\n                  {\n                    alert: \"toggle\",\n                    automation: \"toggle\",\n                    climate: \"climate\",\n                    cover: \"cover\",\n                    fan: \"toggle\",\n                    group: \"group\",\n                    input_boolean: \"toggle\",\n                    input_number: \"input-number\",\n                    input_select: \"input-select\",\n                    input_text: \"input-text\",\n                    light: \"toggle\",\n                    lock: \"lock\",\n                    media_player: \"media-player\",\n                    remote: \"toggle\",\n                    scene: \"scene\",\n                    script: \"script\",\n                    sensor: \"sensor\",\n                    timer: \"timer\",\n                    switch: \"toggle\",\n                    vacuum: \"toggle\",\n                    water_heater: \"climate\",\n                    input_datetime: \"input-datetime\",\n                  }[n] || \"text\",\n              }),\n              h(\"entity-row\", t)\n            );\n          })(t);\n        }\n      }\n      customElements.define(\"entity-row-maker\", t);\n    }\n    customElements.define(\n      \"hui-ais-fold-entity-row-card\",\n      class extends n {\n        static get properties() {\n          return { _hass: {}, open: Boolean, items: {} };\n        }\n        setConfig(t) {\n          (this._config = Object.assign(\n            {},\n            { open: !1, padding: 20, group_config: {} },\n            t\n          )),\n            (this.open = this.open || this._config.open),\n            (this.head = this._config.head),\n            this._config.entity && (this.head = this._config.entity),\n            \"string\" == typeof this.head && (this.head = { entity: this.head }),\n            (this.items = this._config.items),\n            this._config.entities && (this.items = this._config.entities),\n            this.head.entity &&\n              this.head.entity.startsWith(\"group.\") &&\n              !this.items &&\n              (this.items = r().states[this.head.entity].attributes.entity_id);\n        }\n        clickRow(t) {\n          t.stopPropagation();\n          const e = t.target.parentElement._config;\n          this.hasMoreInfo(e) || e.tap_action\n            ? customElements\n                .get(\"hui-entities-card\")\n                .prototype._handleClick.bind(this)(e)\n            : t.target.parentElement.hasAttribute(\"head\") && this.toggle(t);\n        }\n        toggle(t) {\n          t && t.stopPropagation(), (this.open = !this.open);\n        }\n        hasMoreInfo(t) {\n          const e = t.entity || (\"string\" == typeof t ? t : null);\n          return !(!e || c.includes(e.split(\".\", 1)[0]));\n        }\n        firstUpdated() {\n          const t = this.shadowRoot.querySelector(\"#head > entity-row-maker\");\n          t.updateComplete.then(() => {\n            const e = t.querySelector(\"hui-section-row\");\n            e &&\n              e.updateComplete.then(() => {\n                e.shadowRoot.querySelector(\".divider\").style.marginRight =\n                  \"-56px\";\n              });\n          });\n        }\n        set hass(t) {\n          this._hass = t;\n        }\n        render() {\n          this._entities &&\n            this._entities.forEach((t) => (t.hass = this._hass));\n          const t = (t) => (\n            \"string\" == typeof t && (t = { entity: t }),\n            Object.assign({}, this._config.group_config, t)\n          );\n          return s`\n    <div id=\"head\" ?open=${this.open}>\n      <entity-row-maker\n        .config=${this.head}\n        .hass=${this._hass}\n        @click=${this.clickRow}\n        head\n      ></entity-row-maker>\n      <ha-icon\n        @click=${this.toggle}\n        icon=${this.open ? \"mdi:chevron-up\" : \"mdi:chevron-down\"}\n      ></ha-icon>\n    </div>\n\n    <div id=\"items\"\n      ?open=${this.open}\n      style=\n        ${\n          this._config.padding ? `padding-left: ${this._config.padding}px;` : \"\"\n        }\n    >\n      ${this.items.map(\n        (e) => s`\n        <entity-row-maker\n          .config=${t(e)}\n          .hass=${this._hass}\n          @click=${this.clickRow}\n          class=${this.hasMoreInfo(e) ? \"state-card-dialog\" : \"\"}\n        ></entity-row-maker>\n      `\n      )}\n    </div>\n    `;\n        }\n        static get styles() {\n          return o`\n      #head {\n        --toggle-icon-width: 40px;\n        display: flex;\n        cursor: pointer;\n        align-items: center;\n      }\n      #head entity-row-maker {\n        flex-grow: 1;\n        max-width: calc(100% - var(--toggle-icon-width));\n      }\n      #head ha-icon {\n        width: var(--toggle-icon-width);\n        cursor: pointer\n      }\n\n      #items {\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n        max-height: 0;\n      }\n      #items[open] {\n        overflow: visible;\n        max-height: none;\n      }\n      .state-card-dialog {\n        cursor: pointer;\n      }\n    `;\n        }\n      }\n    );\n  },\n]);\n"],"mappings":"AAAA;AA8SA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;;;AAKA;;AAGA;;AAGA;;AAGA;AACA;AACA;AACA;;;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}